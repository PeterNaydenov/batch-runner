!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).batchRunner=n()}(this,(function(){"use strict";return function(){const e=new Map;function n(n){const{name:t,source:o,job:f}=n;return"string"==typeof t&&("function"==typeof o&&("function"==typeof f&&(e.set(t,{name:t,source:o,job:f}),!0)))}return{define:n,run:function(t,...o){if("string"!=typeof t){const{name:e}=t;n(t),t=e}const f=e.get(t);if(null==f)return[];const{source:i,job:u}=f,r=Symbol("end___"),s=[];let c=i();c.length||(c=[c]);for(let[e,n]of c.entries()){let t=u({item:n,i:e,END:r},...o);if(t===r)break;s.push(t)}return s}}}}));
