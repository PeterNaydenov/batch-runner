!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).batchRunner=n()}(this,(function(){"use strict";return function(){const e=new Map;function n(n){let{name:t,source:o,job:f}=n;return null==o&&(o=()=>{}),"string"==typeof t&&("function"==typeof o&&("function"==typeof f&&(e.set(t,{name:t,source:o,job:f}),!0)))}return{define:n,run:function(t,...o){if("string"!=typeof t){const{name:e}=t;n(t),t=e}const f=e.get(t);if(null==f)return[];const{source:i,job:r}=f,u=Symbol("end___"),s=[];let c=i(...o||[]);void 0!==c&&c.hasOwnProperty("length")&&"string"!=typeof c||(c=[c]);for(let[e,n]of c.entries()){let t=r({item:n,i:e,END:u},...o);if(t===u)break;s.push(t)}return s}}}}));
