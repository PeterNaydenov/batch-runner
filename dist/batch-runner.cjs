"use strict";module.exports=function(){const e=new Map;function t(t){let{name:n,source:o,job:r}=t;return null==o&&(o=()=>{}),"string"==typeof n&&("function"==typeof o&&("function"==typeof r&&(e.set(n,{name:n,source:o,job:r}),!0)))}return{define:t,run:function(n,...o){if("string"!=typeof n){const{name:e}=n;t(n),n=e}const r=e.get(n);if(null==r)return[];const{source:u,job:i}=r,s=Symbol("end___"),f=[];let c=u(...o||[]);void 0!==c&&c.hasOwnProperty("length")&&"string"!=typeof c||(c=[c]);for(let[e,t]of c.entries()){let n=i({item:t,i:e,END:s},...o);if(n===s)break;f.push(n)}return f}}};
