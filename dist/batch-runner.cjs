"use strict";module.exports=function(){const t=new Map;function e(e){const{name:n,source:o,job:r}=e;return"string"==typeof n&&("function"==typeof o&&("function"==typeof r&&(t.set(n,{name:n,source:o,job:r}),!0)))}return{define:e,run:function(n,...o){if("string"!=typeof n){const{name:t}=n;e(n),n=t}const r=t.get(n);if(null==r)return[];const{source:s,job:u}=r,f=Symbol("end___"),i=[];let c=s(...o||[]);c.length&&"string"!=typeof c||(c=[c]);for(let[t,e]of c.entries()){let n=u({item:e,i:t,END:f},...o);if(n===f)break;i.push(n)}return i}}};
